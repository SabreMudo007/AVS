<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AVS - Conta</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="Estilos.css">
</head>
<body class="body-doar">

<nav>
  <ul class="list-menu">
    <li><img src="AVS-logo.png" alt="Logo AVS" height="5px" width="5px"></li>
    <li><a href="Home.html">Inicio</a></li>
    <li><a href="Eventos.html">Eventos</a></li>
    <li><a href="Doar.html">Doar</a></li>
    <li><a href="Sobre.html">Sobre nós</a></li>
    <li><a href="Join.html">Junte-se às equipas</a></li>
    <li>Conta</li>
  </ul>
</nav>

<section class="login-container">
  <div class="login-card">
    <h2>Bem-vindo à sua conta!</h2>
    <p>Aqui você pode ver informações da sua conta e gerir suas ações.</p>

    <!-- Botão de logout -->
    <button id="logoutBtn" class="logout-button">Terminar Sessão</button>
  </div>
</section>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";

// Config Firebase
const firebaseConfig = {
    apiKey: "AIzaSyBIE36QlivTvwqx6fjEV2EVAK2gN7dRdrs",
    authDomain: "avs-login-b3345.firebaseapp.com",
    projectId: "avs-login-b3345",
    storageBucket: "avs-login-b3345.firebasestorage.app",
    messagingSenderId: "441342978542",
    appId: "1:441342978542:web:884bc7280c4db0c6bdc6ff"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

// Proteção da página: só usuários logados
onAuthStateChanged(auth, (user) => {
    if (!user) {
        window.location.href = "Login.html"; // redireciona se não logado
    }
});

// Logout
const logoutBtn = document.getElementById("logoutBtn");
logoutBtn.addEventListener("click", () => {
    signOut(auth).then(() => {
        alert("Sessão encerrada com sucesso!");
        window.location.href = "Home.html";
    }).catch((error) => {
        alert("Erro ao encerrar sessão: " + error.message);
    });
});
</script>


</body>
</html>
